(self["webpackChunkvue_x"]=self["webpackChunkvue_x"]||[]).push([[644],{1644:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return p}});var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"seach"},[n("van-nav-bar",{attrs:{title:"搜索中心","left-arrow":""},on:{"click-left":function(e){return t.$router.push("/layout/home")}}}),n("van-search",{attrs:{"show-action":"",placeholder:"请输入搜索关键词"},on:{input:t.inputSenent,search:t.onSearch},scopedSlots:t._u([{key:"action",fn:function(){return[n("div",{on:{click:t.onSearch}},[t._v("搜索")])]},proxy:!0}]),model:{value:t.inputval,callback:function(e){t.inputval="string"===typeof e?e.trim():e},expression:"inputval"}}),t.inputval&&t.optionlist.length?n("van-cell-group",t._l(t.optionlist,(function(e,i){return n("van-cell",{key:i,on:{click:function(n){return t.saveHistroy(e)}},scopedSlots:t._u([{key:"title",fn:function(){return[n("div",{domProps:{innerHTML:t._s(e.html)}})]},proxy:!0}],null,!0)})})),1):n("van-cell-group",[n("van-cell",{attrs:{title:"历史记录"}}),t._l(t.histroulist,(function(e,i){return n("van-cell",{key:i,attrs:{title:e},on:{click:function(n){return t.goReuelt(e)}}})}))],2)],1)},r=[],o=(n(6699),n(9445)),u=n(7189),s={name:"VueXIndex",data(){return{inputval:"",optionlist:[],insever:"",histroulist:JSON.parse((0,u.nJ)("histroulist")||"[]")}},mounted(){},methods:{inputSenent(){clearTimeout(this.insever),this.insever=setTimeout((()=>{this.inputEvent()}),500)},async inputEvent(){if(""===this.inputval)return;const t=await(0,o.q)({q:this.inputval});null===t.data.data.options[0]?this.optionlist=[]:this.optionlist=t.data.data.options.map((t=>{const e=new RegExp(this.inputval,"gi");return{val:t,html:t.replace(e,`<span style="color:red;">${this.inputval}</span>`)}})),console.log(t)},onSearch(){""!==this.inputval&&(this.histroulist.includes(this.inputval)||(this.histroulist.push(this.inputval),(0,u.b4)("histroulist",JSON.stringify(this.histroulist))),this.goReuelt(this.inputval))},saveHistroy(t){this.histroulist.includes(t.val)||(this.histroulist.push(t.val),(0,u.b4)("histroulist",JSON.stringify(this.histroulist))),this.goReuelt(t.val)},goReuelt(t){this.$router.push("/reuelt/"+encodeURIComponent(t))}}},c=s,l=n(1001),a=(0,l.Z)(c,i,r,!1,null,"de0cfdfc",null),p=a.exports},1223:function(t,e,n){var i=n(5112),r=n(30),o=n(3070).f,u=i("unscopables"),s=Array.prototype;void 0==s[u]&&o(s,u,{configurable:!0,value:r(null)}),t.exports=function(t){s[u][t]=!0}},30:function(t,e,n){var i,r=n(9670),o=n(6048),u=n(748),s=n(3501),c=n(490),l=n(317),a=n(6200),p=">",f="<",v="prototype",h="script",d=a("IE_PROTO"),m=function(){},g=function(t){return f+h+p+t+f+"/"+h+p},y=function(t){t.write(g("")),t.close();var e=t.parentWindow.Object;return t=null,e},b=function(){var t,e=l("iframe"),n="java"+h+":";return e.style.display="none",c.appendChild(e),e.src=String(n),t=e.contentWindow.document,t.open(),t.write(g("document.F=Object")),t.close(),t.F},w=function(){try{i=new ActiveXObject("htmlfile")}catch(e){}w="undefined"!=typeof document?document.domain&&i?y(i):b():y(i);var t=u.length;while(t--)delete w[v][u[t]];return w()};s[d]=!0,t.exports=Object.create||function(t,e){var n;return null!==t?(m[v]=r(t),n=new m,m[v]=null,n[d]=t):n=w(),void 0===e?n:o.f(n,e)}},6048:function(t,e,n){var i=n(9781),r=n(3353),o=n(3070),u=n(9670),s=n(5656),c=n(1956);e.f=i&&!r?Object.defineProperties:function(t,e){u(t);var n,i=s(e),r=c(e),l=r.length,a=0;while(l>a)o.f(t,n=r[a++],i[n]);return t}},1956:function(t,e,n){var i=n(6324),r=n(748);t.exports=Object.keys||function(t){return i(t,r)}},6699:function(t,e,n){"use strict";var i=n(2109),r=n(1318).includes,o=n(7293),u=n(1223),s=o((function(){return!Array(1).includes()}));i({target:"Array",proto:!0,forced:s},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),u("includes")},9445:function(t,e,n){"use strict";n.d(e,{o:function(){return o},q:function(){return r}});var i=n(5972);const r=t=>(0,i.Z)({url:"/v1_0/suggestion",params:t}),o=t=>(0,i.Z)({url:"/v1_0/search",params:t})},7189:function(t,e,n){"use strict";
/*! js-cookie v3.0.1 | MIT */
function i(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}n.d(e,{nJ:function(){return c},b4:function(){return l}});var r={read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function o(t,e){function n(n,r,o){if("undefined"!==typeof document){o=i({},e,o),"number"===typeof o.expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var u="";for(var s in o)o[s]&&(u+="; "+s,!0!==o[s]&&(u+="="+o[s].split(";")[0]));return document.cookie=n+"="+t.write(r,n)+u}}function r(e){if("undefined"!==typeof document&&(!arguments.length||e)){for(var n=document.cookie?document.cookie.split("; "):[],i={},r=0;r<n.length;r++){var o=n[r].split("="),u=o.slice(1).join("=");try{var s=decodeURIComponent(o[0]);if(i[s]=t.read(u,s),e===s)break}catch(c){}}return e?i[e]:i}}return Object.create({set:n,get:r,remove:function(t,e){n(t,"",i({},e,{expires:-1}))},withAttributes:function(t){return o(this.converter,i({},this.attributes,t))},withConverter:function(t){return o(i({},this.converter,t),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var u=o(r,{path:"/"}),s=u;function c(t){return s.get(t)}function l(t,e){s.set(t,e)}}}]);
//# sourceMappingURL=644.801c07e5.js.map