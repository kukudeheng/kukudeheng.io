{"version":3,"file":"js/725.185efaa8.js","mappings":"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","sources":["webpack://vue-x/./src/views/article/index.vue?c6f0","webpack://vue-x/./src/api/article.js","webpack://vue-x/./src/views/article/commponent/commponent.vue?c6a9","webpack://vue-x/./src/views/article/commponent/recommponet.vue?d52a","webpack://vue-x/src/views/article/commponent/recommponet.vue","webpack://vue-x/./src/views/article/commponent/recommponet.vue?af4a","webpack://vue-x/./src/views/article/commponent/recommponet.vue","webpack://vue-x/src/views/article/commponent/commponent.vue","webpack://vue-x/./src/views/article/commponent/commponent.vue?c3fb","webpack://vue-x/./src/views/article/commponent/commponent.vue","webpack://vue-x/src/views/article/index.vue","webpack://vue-x/./src/views/article/index.vue?c4e2","webpack://vue-x/./src/views/article/index.vue"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"article\"},[_c('van-nav-bar',{attrs:{\"title\":\"文章详情\",\"left-arrow\":\"\",\"fixed\":\"\",\"placeholder\":\"\"},on:{\"click-left\":function($event){return _vm.$router.go(-1)}}}),_c('div',{staticClass:\"content\"},[_c('h3',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.info.title))]),_c('div',{staticClass:\"info\"},[_c('img',{staticClass:\"tu\",attrs:{\"src\":_vm.info.aut_photo,\"alt\":\"\"}}),_c('div',{staticClass:\"add\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.info.aut_name))]),_c('div',{staticClass:\"san\"},[_vm._v(_vm._s(_vm._f(\"formatData\")(_vm.info.pubdate)))])]),_c('van-button',{attrs:{\"type\":\"info\",\"round\":\"\",\"size\":\"small\"}},[_vm._v(\"+ 关注\")])],1),_c('div',{staticClass:\"mian\",domProps:{\"innerHTML\":_vm._s(_vm.info.content)}}),_c('van-divider',[_vm._v(\"end\")]),_c('div',{staticClass:\"btn\"},[_c('van-button',{staticClass:\"btn-left\",attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"primary\",\"round\":\"\",\"size\":\"normal\",\"icon\":\"good-job-o\"}},[_vm._v(\"点赞\")]),_c('van-button',{staticStyle:{\"margin-left\":\"25px\"},attrs:{\"plain\":\"\",\"hairline\":\"\",\"type\":\"danger\",\"round\":\"\",\"size\":\"normal\",\"icon\":\"delete-o\"}},[_vm._v(\"不喜欢\")])],1)],1),_c('commponent')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import request from '@/utils/request.js'\r\n// 获取新闻详情\r\nexport const articles = id => {\r\n  return request({\r\n    url: `/v1_0/articles/${id}`\r\n  })\r\n}\r\n// 获取评论api\r\nexport const Comments = params => {\r\n  return request({\r\n    url: '/v1_0/comments',\r\n    params\r\n  })\r\n}\r\n// 发表评论\r\nexport const Commentspost = data => {\r\n  return request({\r\n    url: '/v1_0/comments',\r\n    method: 'POST',\r\n    data\r\n  })\r\n}\r\n// 点赞api\r\nexport const commentlikings = (data, is_liking) => {\r\n  if (!is_liking) {\r\n    return request({\r\n      url: '/v1_0/comment/likings',\r\n      method: 'post',\r\n      data\r\n    })\r\n  } else if (is_liking) {\r\n    return request({\r\n      url: `/v1_0/comment/likings/` + data.target,\r\n      method: 'delete'\r\n    })\r\n  }\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"commponent\"},[_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有更多了\"},on:{\"load\":_vm.getData},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('img',{staticClass:\"tu\",attrs:{\"src\":item.aut_photo,\"alt\":\"\"}}),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.aut_name))]),_c('div',{staticClass:\"dasuan\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"time\"},[_c('span',{staticClass:\"curr-time\"},[_vm._v(_vm._s(_vm._f(\"formatData\")(item.pubdate)))]),_c('span',{on:{\"click\":function($event){return _vm.reclick(item)}}},[_vm._v(\"回复\"+_vm._s(item.reply_count))])])]),_c('van-icon',{class:{ add: item.is_liking },attrs:{\"name\":\"like-o\"},on:{\"click\":function($event){return _vm.likeclisk(item)}}})],1)}),0),_c('div',{staticClass:\"bottom\"},[_c('van-field',{attrs:{\"placeholder\":\"请输入评论内容\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":_vm.submit}},[_vm._v(\"发布\")])]},proxy:true}]),model:{value:(_vm.msg),callback:function ($$v) {_vm.msg=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"msg\"}})],1),(_vm.bol)?_c('recommponet',{ref:\"reCommponet\",on:{\"refrecommponet\":_vm.refrecommponet}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('van-action-sheet',{attrs:{\"title\":\"发表回复\"},on:{\"closed\":_vm.closedEvent},model:{value:(_vm.show),callback:function ($$v) {_vm.show=$$v},expression:\"show\"}},[_c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"item\"},[_c('img',{staticClass:\"tu\",attrs:{\"src\":_vm.reitem.aut_photo,\"alt\":\"\"}}),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.reitem.aut_name))]),_c('div',{staticClass:\"dasuan\"},[_vm._v(_vm._s(_vm.reitem.content))]),_c('div',{staticClass:\"time\"},[_c('span',{staticClass:\"curr-time\"},[_vm._v(_vm._s(_vm._f(\"formatData\")(_vm.reitem.pubdate)))])])])])]),_c('van-divider',{style:({ color: '#1989fa', borderColor: '#1989fa', padding: '0 16px' }),attrs:{\"color:\":\"\"}},[_vm._v(\"回复列表\")]),_c('van-list',{attrs:{\"finished\":_vm.finished,\"finished-text\":\"没有了\"},on:{\"load\":_vm.getData},model:{value:(_vm.loading),callback:function ($$v) {_vm.loading=$$v},expression:\"loading\"}},_vm._l((_vm.list),function(item,index){return _c('div',{key:index,staticClass:\"item\"},[_c('img',{staticClass:\"tu\",attrs:{\"src\":item.aut_photo,\"alt\":\"\"}}),_c('div',{staticClass:\"middle\"},[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(item.aut_name))]),_c('div',{staticClass:\"dasuan\"},[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"time\"},[_c('span',{staticClass:\"curr-time\"},[_vm._v(_vm._s(_vm._f(\"formatData\")(item.pubdate)))])])])])}),0),_c('div',{staticClass:\"bottom\"},[_c('van-field',{attrs:{\"placeholder\":\"请输入评论内容\"},scopedSlots:_vm._u([{key:\"button\",fn:function(){return [_c('van-button',{attrs:{\"size\":\"small\",\"type\":\"info\"},on:{\"click\":_vm.submit}},[_vm._v(\"回复\")])]},proxy:true}]),model:{value:(_vm.msg),callback:function ($$v) {_vm.msg=(typeof $$v === 'string'? $$v.trim(): $$v)},expression:\"msg\"}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <van-action-sheet v-model=\"show\" title=\"发表回复\" @closed=\"closedEvent\">\r\n    <div class=\"main\">\r\n      <div class=\"item\">\r\n        <img class=\"tu\" :src=\"reitem.aut_photo\" alt=\"\" />\r\n        <div class=\"middle\">\r\n          <div class=\"name\">{{ reitem.aut_name }}</div>\r\n          <div class=\"dasuan\">{{ reitem.content }}</div>\r\n          <div class=\"time\">\r\n            <span class=\"curr-time\">{{ reitem.pubdate | formatData }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <van-divider color: :style=\"{ color: '#1989fa', borderColor: '#1989fa', padding: '0 16px' }\">回复列表</van-divider>\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有了\"\r\n      @load=\"getData\"\r\n    >\r\n      <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n        <img class=\"tu\" :src=\"item.aut_photo\" alt=\"\" />\r\n        <div class=\"middle\">\r\n          <div class=\"name\">{{ item.aut_name }}</div>\r\n          <div class=\"dasuan\">{{ item.content }}</div>\r\n          <div class=\"time\">\r\n            <span class=\"curr-time\">{{ item.pubdate | formatData }}</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </van-list>\r\n    <div class=\"bottom\">\r\n      <van-field placeholder=\"请输入评论内容\" v-model.trim=\"msg\">\r\n        <template #button>\r\n          <van-button size=\"small\" type=\"info\" @click=\"submit\">回复</van-button>\r\n        </template>\r\n      </van-field>\r\n    </div>\r\n  </van-action-sheet>\r\n</template>\r\n\r\n<script>\r\nimport { Comments, Commentspost } from '@/api/article.js'\r\nexport default {\r\n  name: 'VueXRecommponet',\r\n\r\n  data () {\r\n    return {\r\n      msg: '',\r\n      show: false,\r\n      reitem: '',\r\n      offset: null,\r\n      list: [],\r\n      loading: false,\r\n      finished: false\r\n    }\r\n  },\r\n\r\n  mounted () {},\r\n\r\n  methods: {\r\n    async getData () {\r\n      const res = await Comments({\r\n        type: 'c',\r\n        source: this.reitem.com_id,\r\n        offset: this.offset,\r\n        limit: 1\r\n      })\r\n      this.loading = false\r\n      this.list.push(...res.data.data.results)\r\n      this.offset = res.data.data.last_id\r\n      if (res.data.data.last_id === res.data.data.end_id) {\r\n        this.finished = true\r\n      }\r\n    },\r\n    closedEvent () {\r\n      this.$emit('refreComments')\r\n    },\r\n    async submit () {\r\n      if (this.msg === '') {\r\n        this.$toast.fail('请选输入内容后再评论')\r\n        return\r\n      }\r\n      const res = await Commentspost({\r\n        target: this.reitem.com_id,\r\n        content: this.msg,\r\n        art_id: this.$route.params.id\r\n      })\r\n      this.$toast.success('评论成功')\r\n      this.list.unshift(res.data.data.new_obj)\r\n      this.msg = ''\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.main {\r\n  padding: 0 15px 40px;\r\n  display: flex;\r\n}\r\n.item {\r\n  display: flex;\r\n  padding: 0 10px;\r\n}\r\n.tu {\r\n  width: 50px;\r\n  height: 50px;\r\n  border-radius: 50%;\r\n  object-fit: cover;\r\n  margin-right: 20px;\r\n}\r\n.middle {\r\n  flex: 1;\r\n  padding: 10px;\r\n  .name {\r\n    color: red;\r\n  }\r\n}\r\n.dasuan {\r\n  padding: 10px 0;\r\n}\r\n.bottom {\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./recommponet.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./recommponet.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./recommponet.vue?vue&type=template&id=1871a814&scoped=true&\"\nimport script from \"./recommponet.vue?vue&type=script&lang=js&\"\nexport * from \"./recommponet.vue?vue&type=script&lang=js&\"\nimport style0 from \"./recommponet.vue?vue&type=style&index=0&id=1871a814&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1871a814\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"commponent\">\r\n    <van-list\r\n      v-model=\"loading\"\r\n      :finished=\"finished\"\r\n      finished-text=\"没有更多了\"\r\n      @load=\"getData\"\r\n    >\r\n      <div class=\"item\" v-for=\"(item, index) in list\" :key=\"index\">\r\n        <img class=\"tu\" :src=\"item.aut_photo\" alt=\"\" />\r\n        <div class=\"middle\">\r\n          <div class=\"name\">{{ item.aut_name }}</div>\r\n          <div class=\"dasuan\">{{ item.content }}</div>\r\n          <div class=\"time\">\r\n            <span class=\"curr-time\">{{ item.pubdate | formatData }}</span>\r\n            <span @click=\"reclick(item)\">回复{{ item.reply_count }}</span>\r\n          </div>\r\n        </div>\r\n        <van-icon\r\n          name=\"like-o\"\r\n          @click=\"likeclisk(item)\"\r\n          :class=\"{ add: item.is_liking }\"\r\n        />\r\n      </div>\r\n    </van-list>\r\n    <div class=\"bottom\">\r\n      <van-field placeholder=\"请输入评论内容\" v-model.trim=\"msg\">\r\n        <template #button>\r\n          <van-button size=\"small\" type=\"info\" @click=\"submit\">发布</van-button>\r\n        </template>\r\n      </van-field>\r\n    </div>\r\n    <!-- 回复评论 -->\r\n    <recommponet\r\n      ref=\"reCommponet\"\r\n      v-if=\"bol\"\r\n      @refrecommponet=\"refrecommponet\"\r\n    ></recommponet>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// 导入获取评论的api,发表评论的api\r\nimport { Comments, Commentspost, commentlikings } from '@/api/article.js'\r\nimport recommponet from './recommponet.vue'\r\nexport default {\r\n  name: 'VueXCommponent',\r\n  components: {\r\n    recommponet\r\n  },\r\n\r\n  data () {\r\n    return {\r\n      //   reitem: '',\r\n      msg: '',\r\n      list: [],\r\n      loading: false,\r\n      finished: false,\r\n      offset: null,\r\n      bol: true\r\n    }\r\n  },\r\n\r\n  mounted () {},\r\n  created () {\r\n    // this.getData()\r\n  },\r\n  methods: {\r\n    // 获取评论\r\n    async getData () {\r\n      const res = await Comments({\r\n        type: 'a',\r\n        source: this.$route.params.id,\r\n        offset: this.offset,\r\n        limit: 1\r\n      })\r\n      this.loading = false\r\n      this.list.push(...res.data.data.results)\r\n      this.offset = res.data.data.last_id\r\n      if (res.data.data.last_id === res.data.data.end_id) {\r\n        this.finished = true\r\n      }\r\n      //   console.log('获取评论', res)\r\n    },\r\n    // 发表评论\r\n    async submit () {\r\n      if (this.msg === '') {\r\n        this.$toast.fail('请输入内容再评论')\r\n        return\r\n      }\r\n      const res = await Commentspost({\r\n        target: this.$route.params.id,\r\n        content: this.msg\r\n      })\r\n      //  提示成功\r\n      this.$toast.success('发表成功')\r\n      //把发表的内容添加到第一行\r\n      this.list.unshift(res.data.data.new_obj)\r\n      // 清空输入框的内容\r\n      this.msg = ''\r\n      console.log('发表评论', res)\r\n    },\r\n    // 点击回复\r\n    reclick (item) {\r\n      this.$refs.reCommponet.show = true\r\n      this.$refs.reCommponet.reitem = item\r\n    },\r\n    //  刷新recomment\r\n    refrecommponet () {\r\n      this.bol = false\r\n      this.$nextTick(() => {\r\n        this.bol = true\r\n      })\r\n    },\r\n    // 小红心取消与确定\r\n    async likeclisk (item) {\r\n      await commentlikings(\r\n        {\r\n          target: item.com_id\r\n        },\r\n        item.is_liking\r\n      )\r\n      this.$toast.success(!item.is_liking ? '点赞成功' : '取消点赞成功')\r\n      item.is_liking = !item.is_liking\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.commponent {\r\n  padding: 20px 20px 60px 20px;\r\n  .item {\r\n    display: flex;\r\n    .tu {\r\n      width: 50px;\r\n      height: 50px;\r\n      border-radius: 50%;\r\n      object-fit: cover;\r\n      margin-right: 20px;\r\n    }\r\n    .middle {\r\n      flex: 1;\r\n    }\r\n    .dasuan {\r\n      padding: 10px 0;\r\n    }\r\n  }\r\n}\r\n.bottom {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n}\r\n.add {\r\n  color: red;\r\n}\r\n</style>\r\n","import mod from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./commponent.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./commponent.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./commponent.vue?vue&type=template&id=bc932444&scoped=true&\"\nimport script from \"./commponent.vue?vue&type=script&lang=js&\"\nexport * from \"./commponent.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commponent.vue?vue&type=style&index=0&id=bc932444&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"bc932444\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div class=\"article\">\r\n    <van-nav-bar\r\n      title=\"文章详情\"\r\n      left-arrow\r\n      fixed\r\n      placeholder\r\n      @click-left=\"$router.go(-1)\"\r\n    ></van-nav-bar>\r\n    <div class=\"content\">\r\n      <h3 class=\"title\">{{ info.title }}</h3>\r\n      <div class=\"info\">\r\n        <img class=\"tu\" :src=\"info.aut_photo\" alt=\"\" />\r\n        <div class=\"add\">\r\n          <div class=\"name\">{{ info.aut_name }}</div>\r\n          <div class=\"san\">{{ info.pubdate | formatData }}</div>\r\n        </div>\r\n        <van-button type=\"info\" round size=\"small\">+ 关注</van-button>\r\n      </div>\r\n      <div v-html=\"info.content\" class=\"mian\"></div>\r\n      <van-divider>end</van-divider>\r\n      <div class=\"btn\">\r\n        <van-button\r\n          class=\"btn-left\"\r\n          plain\r\n          hairline\r\n          type=\"primary\"\r\n          round\r\n          size=\"normal\"\r\n          icon=\"good-job-o\"\r\n          >点赞</van-button\r\n        >\r\n        <van-button\r\n          plain\r\n          hairline\r\n          type=\"danger\"\r\n          round\r\n          size=\"normal\"\r\n          icon=\"delete-o\"\r\n          style=\"margin-left:25px\"\r\n          >不喜欢</van-button\r\n        >\r\n      </div>\r\n    </div>\r\n\r\n    <commponent></commponent>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { articles } from '@/api/article.js'\r\nimport commponent from './commponent/commponent.vue'\r\nexport default {\r\n  name: 'VueXIndex',\r\n\r\n  data () {\r\n    return {\r\n      id: this.$route.params.id,\r\n      info: ''\r\n    }\r\n  },\r\n  components: {\r\n    commponent\r\n  },\r\n\r\n  mounted () {},\r\n  created () {\r\n    this.getData()\r\n  },\r\n  methods: {\r\n    async getData () {\r\n      const res = await articles(this.id)\r\n      this.info = res.data.data\r\n      // console.log('文章详情', res)\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.content {\r\n  width: 100vw;\r\n  padding: 20px 20px 60px 20px;\r\n  box-sizing: border-box;\r\n  .title {\r\n    font-size: 20px;\r\n    padding: 5px;\r\n  }\r\n  .info {\r\n    display: flex;\r\n    align-items: center;\r\n    .tu {\r\n      width: 50px;\r\n      height: 50px;\r\n      border-radius: 50%;\r\n      margin-right: 20px;\r\n    }\r\n    .add {\r\n      flex: 1;\r\n    }\r\n  }\r\n}\r\n\r\n::v-deep pre {\r\n  word-break: break-all;\r\n  line-break: anywhere;\r\n  background-color: black;\r\n  color: white;\r\n  width: 100%;\r\n  display: inline-block;\r\n  overflow-x: auto;\r\n}\r\n::v-deep .btn {\r\n  text-align: center;\r\n}\r\n.mian {\r\n  width: 100%;\r\n  overflow: hidden;\r\n  // padding-bottom: 60px;\r\n}\r\n::v-deep img {\r\n  width: 100vw;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5ba66e27&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=5ba66e27&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5ba66e27\",\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","_v","_s","info","title","aut_photo","aut_name","_f","pubdate","domProps","content","staticStyle","staticRenderFns","articles","id","request","url","Comments","params","Commentspost","data","method","commentlikings","is_liking","target","finished","getData","model","value","callback","$$v","loading","expression","_l","item","index","key","reclick","reply_count","class","add","likeclisk","scopedSlots","_u","fn","submit","proxy","msg","trim","ref","refrecommponet","_e","closedEvent","show","reitem","style","color","borderColor","padding","name","offset","list","mounted","methods","type","source","limit","art_id","component","components","recommponet","bol","created","console","commponent"],"sourceRoot":""}